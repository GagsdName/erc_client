<!DOCTYPE html>
<meta charset="utf-8">
<title>CNS Visualization</title>

<link rel="stylesheet" href="css/leaflet.css"/>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">

<style>


</style>
<script src="lib/angular/angular.js"></script>
  <script src="lib/head.js"></script>
  <script src="src/Init.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">

  <script src="lib/jquery.min.js"></script>
  <script src="lib/bootstrap.min.js"></script>
<body>

<div id="container" class="flexChild rowParent">
 <!-- Trigger the modal with a button -->
 <div ng-include="'partials/prosym_about_modal.html'"></div>
  <button type="button" class="btn btn-info btn-s" data-toggle="modal" data-target="#aboutModal" id="geomapAbout">  <span class="glyphicon glyphicon-info-sign"></span> About</button>
  
  <div ng-include="'partials/prosym-popup.html'"></div>
<div id="rowChild18007" class="flexChild">
<div ng-controller="ngCnsVisual" ng-data-attr="ng-cns-visual" ng-reset-on-resize ng-config="visuals/prosym01-config.js" ng-vis-type="D3ProportionalSymbol" id="prosym01" ng-data-field="nanohub" ng-identifier="prosym01">
                    </div>

  <div id="map"></div>



  <!-- <form class="curvesettings"> -->
  <div class="box" id = "stats">
  <button type="button" class="close" aria-label="Close" onclick="closeStats()" data-toggle="tooltip" title=" Close Stats " data-placement= "right">
  <span aria-hidden="true" >&times;</span>
</button>
    <div class="title" >User Statistics</div>
    <div>#Authors Geocoded: <span id="geocoded"></span>.</div>
    <div>#Authors Not Geocoded: <span id="notgeocoded"></span>.</div>
	    <div >

  <!-- Trigger the modal with a button -->
  <div ng-include="'partials/prosym_warning_modal.html'"></div>
  <button type="button" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#warningModal">  <span class="glyphicon glyphicon-info-sign"></span> Warning</button>

  
  
</div>
  </div>
 
  <!-- </form> -->
</div>

<div id="rowChild3756" class="flexChild selected">
<div style="overflow-y: scroll; height:1100px; right:0px;" ng-controller="ngCnsVisual" ng-data-attr="ng-cns-visual" ng-reset-on-resize ng-config="visuals/barChart-configs.js" ng-vis-type="HVBarChart" id="barChart02" ng-data-field="nanohub" ng-identifier="barChart02" >
      </div></div>
</div>

<div class="legend-container prosym legend">
                    <button>
                        <span>Legend</span>
                    </button>
                    <div class="legend-row">
                        <div flex layout="row">
                            <div flex="75" layout="column">
                                <div flex class="legend-item-label" id = "nodes">Nodes</div>
                                <div flex layout="row">
                                    <div flex class="legend-item">
                                        <div layout="column" layout-fill class="wrapper" ng-controller="ngCnsVisual" ng-data-attr="ng-cns-visual" ng-vis-type="LegendNodeSize" id="nodeSize" ng-identifier="nodeSize">
                                        </div>
                                    </div>
                                 
                                   
                                </div>
                            </div>
                         
                        </div>
                    </div>
                </div>
</body>
<script type="text/javascript">
  $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip(); 
      $(".legend-container").click(function() {
                toggleLegend();
            });  
});

function closeStats(){
$("#stats").hide();
}  

 var legendToggleOff = true;
  

    function toggleLegend() {
        if (legendToggleOff) {
            $(".legend-container").animate({
                bottom: '0px'
            }, 250);
            legendToggleOff = false;
        } else {
            $(".legend-container").animate({
                bottom: '-210px'
            }, 75);
            legendToggleOff = true;
        }

    }
</script>

 
<!-- <script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="http://rawgit.com/geodesign/spatialsankey/master/spatialsankey.js"></script> -->